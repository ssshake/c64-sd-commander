0 PRINT CHR$(147)

1 POKE 53280,11
2 POKE 53281,0
3 POKE 646, 14

4 REM PRINT "////////////////////////////"
5 REM PRINT "       RICH DESKTOP         "
6 REM PRINT "////////////////////////////" 

7 DELIMITER$=">  "
8 LNGTH = 7

9 PROGRAM$(0,0)="FILE BROWSER"
10 PROGRAM$(1,0)="TERMINAL"
11 PROGRAM$(2,0)="PAINT"
12 PROGRAM$(3,0)="WORD"
13 PROGRAM$(4,0)="CMD"
14 PROGRAM$(5,0)="BASIC"
15 PROGRAM$(5,0)="BASIC"
16 PROGRAM$(5,0)="BASIC"

17 PROGRAM$(0,1) = "8,1"
18 PROGRAM$(1,1) = "8,1"
19 PROGRAM$(2,1) = "8,1"
20 PROGRAM$(3,1) = ":*,8"
21 PROGRAM$(4,1) = ""
22 PROGRAM$(5,1) = ""
23 PROGRAM$(5,1) = ""
24 PROGRAM$(5,1) = ""

25 REM X COORD
26 XY(0,0) = 3
27 XY(1,0) = 13
28 XY(2,0) = 23
29 XY(3,0) = 33
30 XY(4,0) = 3
31 XY(5,0) = 13
32 XY(6,0) = 23
33 XY(7,0) = 33

34 REM Y COORD
35 XY(0,1) = 20
36 XY(1,1) = 20
37 XY(2,1) = 20
38 XY(3,1) = 20
39 XY(4,1) = 10
40 XY(5,1) = 10
41 XY(6,1) = 10
42 XY(7,1) = 10


100 I = 0

139 GOSUB 1000
140 GOSUB 2000
141 GOSUB 3500
142 GOSUB 1110
143 REM RENDER LOOP
144 CURRENT$ = PROGRAM$(I,0): REM CURRENT SELECTION
145 GOSUB 3000
149 GOTO 143

500 END

1000 REM DRAW PRETTY LINES
1001 POKE 55296,0
1010 PRINT CHR$(147)
1011 REM POKE 1024, 108: POKE 1024 + 39, 123
1012 REM POKE 1024 + 999 - 39, 124: POKE 1024 + 999, 126

1019 B = 960: S = 1024: C = 55296

1020 FOR X = 1 TO 38
1029 T = S + X
1030 POKE T,67
1031 POKE T + B,67
1042 A = C + X
1043 POKE A, 4
1044 POKE A + B,5
1050 NEXT X

1059 L = 2014: R = 39
1060 FOR X = 1 TO 23
1061 H = X * 40
1062 T = S + H: V = C + H
1063 POKE T, 89
1064 POKE T + R, 84
1065 POKE V, 4
1066 POKE V + R, 5
1067 NEXT X
1100 RETURN


1110 REM DRAW COMMAND PROMPT
1118 B = 880: S = 1024: C = 55296
1119 T = B + S
1120 FOR X = 3 TO 37
1131 POKE T + X,119
1144 POKE C + B + X,1
1150 NEXT X
1151 POKE T + 3, 79
1152 POKE T + 37, 80
1153 POKE T + 40 + 4, 62
1154 POKE T + 34, 6
1155 POKE T + 35, 51
1156 POKE C + B + 40 + 4, 1
1157 POKE T + 3 + 40, 101
1158 POKE C + B + 40 + 3, 1

1161 RETURN

2000 REM RENDER LIST AND RENDER CURRENT SELECTION
2001 REM PRINT CHR$(147)
2002 FOR X = 0 TO LNGTH
2003 REM T$ = "   "
2004 REM IF CURRENT$ = PROGRAM$(X,0) THEN T$ = DELIMITER$
2005 REM PRINT T$ + PROGRAM$(X, 0)
2006 POKE 1024 + XY(X, 0) + 40 * ( 24 - XY(X, 1)), 127
2007 POKE 55296 + XY(X, 0) + 40 * ( 24 - XY(X, 1)), 8
2010 NEXT X
2011 REM UPDATE CURSOR POSITION
2012 REM GOSUB 3500
2020 RETURN


3000 REM WAIT FOR KEYBOARD INPUT AND UPDATE NAVIGATION
3001 GET KEY$: IF KEY$ = "" THEN GOTO 3001
3002 GOSUB 3400
3003 IF KEY$ = " " THEN GOSUB 4000
3004 IF KEY$ = CHR$(134) THEN GOSUB 5000
3005 IF KEY$ = "" THEN I = I + 1
3006 IF KEY$ = "" THEN I = I - 1
3015 IF I > LNGTH THEN I = 0
3016 IF I < 0 THEN I = LNGTH
3017 GOSUB 3500
3020 RETURN

3400 REM CLEAR OLD CURSOR POSITION
3401 POKE (1024 + XY(I, 0) + 40 * ( 24 - XY(I, 1))) - 1, 32
3499 RETURN

3500 REM SET NEW CURSOR POSITION
3501 POKE (1024 + XY(I, 0) + 40 * ( 24 - XY(I, 1))) - 1, 90
3502 POKE (55296 + XY(I, 0) + 40 * ( 24 - XY(I, 1))) - 1,13
3600 RETURN

4000 REM LAUNCH APP
4001 PRINT "LAUNCHING APP " + CURRENT$
4010 REM DYNAMIC KEYBOARD LOADER EXAMPLE 
4015 REM CHR$(34) IS FOR QUOTE MARKS. PRINTS AT PROPER PLACE 
4020 PRINT "LOAD";CHR$(34);PROGRAM$(I,0);CHR$(34);",";PROGRAM$(I,1) 
4025 PRINT:PRINT:PRINT:PRINT:PRINT"RUN" 
4030 PRINT"":POKE198,2:POKE631,13:POKE632,13:END 
4035 REM 198=NUMBER OF CHARACTERS IN KEYBOARD BUFFER. 13=RETURN 
4100 RETURN

5000 PRINT "YOU DID IT"
5001 RETURN
